{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block stylesheets %}
 
{% endblock %}


{% block body %}
<h1 class="mb-4 text-white">Accueil</h1>
<div  class="cards-grid">
  {% for joke in jokes %}
    <div class="card card-bundle">
      <div class="bundle-media">
        {% if joke.photo %}
          <img src="{{ asset('uploads/jokes/' ~ joke.photo) }}" alt="{{ joke.title }}">
        {% else %}
          <img src="{{ asset('images/placeholder.jpg') }}" alt="Placeholder">
        {% endif %}
      </div>
      <div class="bundle-body">
        <h5 class="bundle-title">{{ joke.title }}</h5>
        <div class="bundle-action-slot">
          <span class="bundle-price">€{{ joke.price|number_format(2, ',', ' ') }}</span>
          <a href="{{ path('shop_detail', {id: joke.id}) }}"
             class="bundle-cta"
             aria-label="Acheter pour {{ joke.price|number_format(2, ',', ' ') }} euros">
             Acheter pour €{{ joke.price|number_format(2, ',', ' ') }}
          </a>
        </div>
      </div>
    </div>
  {% else %}
    <div class="text-muted py-5">
      Aucune blague trouvée.
    </div>
  {% endfor %}
</div>





{# <h1 class="mb-4 text-white">Toutes les blagues</h1> #}

{# <div class="d-flex flex-wrap gap-10">
  {% for joke in jokes %}
    {% set price = joke.price ?? 0.99 %}
    <article class="bundle-card" style="max-width:340px;">
      <div class="media mb-3">
        {% if joke.photo %}
          <img src="{{ asset('uploads/jokes/' ~ joke.photo) }}" alt="{{ joke.title ?? 'Blague' }}">
        {% else %}
          <img src="{{ asset('images/placeholder.jpg') }}" alt="Placeholder">
        {% endif %}
      </div>
      <div class="d-flex align-items-center justify-content-between px-3" style="margin-bottom:0.5rem;">
        <span class="price fw-bold text-white bg-dark rounded-pill px-3 py-2" style="position:static;font-size:1.1rem;">{{ price|number_format(2, ',', ' ') }} €</span>
        <a href="{{ path('shop_detail', {id: joke.id}) }}" class="btn btn-dark btn-sm rounded-pill px-3 ms-auto">Voir</a>
      </div>
      <h5 class="mt-2 mb-0 text-truncate px-3" style="max-width:85%;">{{ joke.title ?? 'Bundle de blagues' }}</h5>
    </article>
  {% else %}
    <div class="text-muted py-5">
      Aucune blague trouvée.
    </div> #}
  {# {% endfor %} #}
</div>
{% endblock %}
