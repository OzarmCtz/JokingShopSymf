{% extends 'base.html.twig' %}

{% block title %}{{ app_settings.companyName }}{% endblock %}

{% block stylesheets %}
 
{% endblock %}

{% block body %}
{# Variables partagées pour les composants #}
{% set currentCategoryId = app.request.query.get('category') %}
{% set currentCategoryName = null %}
{% set currentCategoryDescription = null %}
{% if currentCategoryId %}
  {% for category in categories %}
    {% if category.id == currentCategoryId|number_format(0, '', '') %}
      {% set currentCategoryName = category.name|capitalize %}
      {% set currentCategoryDescription = category.description %}
    {% endif %}
  {% endfor %}
{% endif %}

{# Bannière hero #}
{# Vraiment moche :/ #}
{% include 'shop/components/_hero_banner.html.twig' %}

{# Barre de tri #}
{% include 'shop/components/_sort_bar.html.twig' %}

{# Grille de cartes des blagues #}
{% include 'shop/components/_cards_grid.html.twig' %}

{# Pagination #}
{% include 'shop/components/_pagination.html.twig' %}

{# Modal Unifié avec transitions #}
{% include 'shop/components/_unified_modal.html.twig' %}

{# Scripts JavaScript #}
{% include 'shop/components/_scripts.html.twig' %}
{% include 'shop/components/_unified_modal_scripts.html.twig' %}

{% endblock %}
